window.App={};window.App.Options={};
$(function(){function e(a,c,d){a=a?a:0;if(c&&(!a||a>c))a=c;return d&&(!a||a>d)?d:a}function f(){return{height:$("html, body").height(),slider_height:e(window.innerHeight?window.innerHeight:0,document.documentElement?document.documentElement.clientHeight:0,document.body?document.body.clientHeight:0),slider_pos:e(window.pageYOffset?window.pageYOffset:0,document.documentElement?document.documentElement.scrollTop:0,document.body?document.body.scrollTop:0)}}(function(){$("script").each(function(){var a=String(this.type).replace(/ /g,
"");a.match(/^text\/x-omnimarkup-config(;.*)?$/)&&!a.match(/;executed=true/)&&(this.type+=";executed=true",eval(this.innerHTML))})})();var g=window.App.Options.buffer_id,h=window.App.Options.ajax_polling_interval;(function c(){var d=$("#content"),e=d.data("timestamp"),i={buffer_id:g,timestamp:e};setTimeout(function(){$.ajax({type:"POST",url:"/api/query",data:JSON.stringify(i),dataType:"json",contentType:"application/json; charset=utf-8",success:function(b){if(b&&null!==b.html_part){var c=f();document.title=
b.filename+"\u2014"+b.dirname;$("#filename").text(b.filename);d.data("timestamp",b.timestamp);d.html(b.html_part);window.App.Options.mathjax_enabled&&MathJax.Hub.Queue(["resetEquationNumbers",MathJax.InputJax.TeX],["Typeset",MathJax.Hub,d[0]]);b=f().height-c.height;$("html, body").animate({scrollTop:c.slider_pos+b},"fast")}},complete:c})},h)})()});
